# How to implement tracing

Each agent eventually can construct its own subgraph of agents. Each agent can generate data within itself, or respond to a publisher they are subscribed to. This response can be both internal (i.e not updating the publisher) or an external event that does update the publisher. 

The inherent nature of self-prompting agents is that you dont know how many calls are going to be made, or when data is going to be available to send to the frontend. 

Additionally, we want to show the trace to the user so they understand the inner working of the agent. This helps them build trust in the capabilities of the agent so that in turn they are more confident in the outcomes generated by the agent. 

The options to fit this are SSE and Websockets. I am leaning towards Websocket because of the bidirectional nature. SSEs are great but a limitation is that they send an eventstream from the backend, it is not bidirectional communication. 

In the near future, the user may want to make changes to the internally generated data that the agent is using to configure itself, and this request is initiated while some other data is still coming in. For this, websockets works better. Although I know scaling websockets is more complex.

So in this set up, a `ws` object (Websocket) object will be passed to the 